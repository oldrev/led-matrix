# LED 介绍

系统每个像素为一个灯珠，一个灯珠最终显示的颜色由红绿蓝三基色通道，每个通道共 256 级别亮度组成。

也就是说一个灯珠用 24 位表示，每个通道占一个字节共三个字节表示一个灯珠。

由于 RGB 三色是三个 LED 芯片集成在一个灯珠里分别点亮，但三色的芯片参数如电压等各不相同，因此以 #FFFFFF 方式点亮 LED 以后，颜色不是正白而是偏蓝属于正常情况。

!!! warning "警告"

    若灯珠数太多，可适当减小灯珠亮度以减小总电流，否则可能超过额定电流造成控制板烧毁、电线发热等。
    比如显示白色没必要全使用 #FFFFFF ，可以使用 #7F7F7F 同样可以显示灰色，但亮度小一倍电流也小一倍。

# 调色板

但是由于单片机内存非常有限，而且本项目并不需要 24 位色显示，故而采用调色板的设计节约内存。
这里规定一个调色板，调色板中有16个颜色，每个颜色有 24 位表示的正常 RGB，但具体系统设置像素点颜色时使用的是调色板的索引。

例如，调色板 `Palette[1] = RGB{0xFF, 0, 0}`，那么将一个灯珠的颜色设置为颜色索引 `1` 的时候，系统将使用调色板第一个颜色定义设置为红色。

调色板具有默认值，也可由客户端自行定义，见后续协议描述。

## 内置缺省调色板颜色定义

索引值 | RGB 值 | 颜色
------------ | ------------- | ------------
`0` | `#000000` | 纯黑
`1` | `#808080` | 白/灰
`2` | `#800000` | 红
`3` | `#008000` | 绿
`4` | `#000080` | 蓝
`5` | `#808000` | 黄
`6` | `#008080` | 青
`7` | `#800080` | 粉红


# 显示矩阵

本文的像素是指可以亮的灯珠，而不包含跳过的灯珠。对于客户端来说，提供的接口都是操作像素的，客户端无需考虑灯珠跳过的问题。

### 内置缺省矩阵参数：

* 每行像素数：11
* 行数：20
* 行内像素之间跳过灯珠数：1
* 两行之间跳过灯珠数：2